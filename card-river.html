<link rel="import" href="../paper-toolbar/paper-toolbar.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../deko-card-container/deko-card-container.html">
<link rel="import" href="../deko-card/deko-card.html">
<link rel="import" href="../iron-media-query/iron-media-query.html">
<link rel="import" href="../polymer/polymer.html">
<!--
  `<card-river></card-river>` card-river
  @demo demo.html
-->
<dom-module id="card-river">
  <template>
    <style>:host {display:inline-block;color:#666}</style>
        <style>
          #narrow {
            @apply(--layout-horizontal);
            @apply(--layout-center-justified);
            height: 100%;
          }
          paper-button {
            color: #fff;
            padding: 5px;
          }
          #card-view {
            @apply(--layout-horizontal);
            @apply(--layout-center-justified);
            @apply(--layout-wrap);
          }
          deko-card-container {
            margin-top: 50px;
          }
          .pre.desktop {
            left: 80px;
          }
          .nex.desktop {
            right: 80px;
          }
          .desktop {
            position: absolute;
            top: 320px;
          }
          .nex.mobile {
            position: absolute;
            left: 200px;
            bottom: -45px;
          }
          .pre.mobile {
            position: absolute;
            left: 200px;
            bottom: -25px;
          }
          .mobile {
            transform: rotate(90deg);   
          }
          paper-button {
            min-width: 2em;
            min-height: 8em;
            background: none;
            color: #ff5722;
          }
          h6 {
            -webkit-transform:scale(3,15); /* Safari and Chrome */
            -moz-transform:scale(3,15); /* Firefox */
            -ms-transform:scale(3,15); /* IE 9 */
            -o-transform:scale(3,15); /* Opera */
            transform:scale(3,15); /* W3C */
          }
          paper-toolbar {
            --paper-toolbar-height: 35px;
            --paper-toolbar-sm-height: 35px;
            --paper-toolbar-title: {
              font-size: 18px;
              font-weight: 300;
            }
          }
          .toolbarMobile {
             box-shadow: 0 -2px 0px 0 rgba(0, 0, 0, 0.14),
                         0 -1px 0px 0 rgba(0, 0, 0, 0.12),
                         0 -3px 1px -2px rgba(0, 0, 0, 0.2);
             margin-left: 2px;
          }
        </style>
        <iron-media-query query="(min-width: 700px)" query-matches="{{wide}}"></iron-media-query>
        <!--Wide Layout for Desktop-->
        <template is="dom-if" if="{{wide}}">
          <div id="card-view">
            <deko-card-container>
              <template is="dom-repeat" items="{{items}}" initial-Count="1" id="list0">
                <deko-card deck="[[deck]]" toolbar-color="[[deckColor]]" card="[[item]]" icon="[[item.icon]]" on-tapped="cardTapped" on-edit="edit" on-open="open">             </deko-card>
              </template>
            </deko-card-container>
          </div>
        </template>
        <!--Narrow Layout under 700px-->
        <template is="dom-if" if="{{!wide}}">
          <div style="height: 100%">
            <template is="dom-repeat" items="{{items}}" filter="pickable"  id="list1">
              <paper-toolbar class="toolbarMobile" on-tap="select" card="[[item]]" style$="background:[[deckColor]]; height: 35px;">
                <iron-icon icon="[[item.icon]]" style="height:90%"></iron-icon>
                <div class="title" >[[item.title]]</div>
              </paper-toolbar>
            </template>
            <div id="narrow">
              <deko-card deck="[[deck]]" style="height:100%;width:100%" toolbar-color="[[deckColor]]" card="[[selectedItem]]" icon="[[selectedItem.icon]]" on-tapped="cardTapped" on-edit="edit" on-open="open"></deko-card>
            </div>
          </div>
        </template>
  </template>
</dom-module>
<script>
  Polymer({
    is: "card-river",
  })
</script>